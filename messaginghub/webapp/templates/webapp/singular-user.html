{% extends 'webapp/base.html' %}

{% block content %}
    
<body>
<div class="page-content page-container" id="page-content">
    <div class="padding">
        <div class="row container d-flex justify-content-center">
<div class="col-md-6">
            <div class="card card-bordered">
              <div class="card-header">
                <h4 class="card-title"><strong>Chat</strong></h4>
                <a class="btn btn-xs btn-secondary" href="#" data-abc="true"></a>
              </div>


              <div class="ps-container ps-theme-default ps-active-y" id="chat-content" style="overflow-y: scroll !important; height:400px !important;">
                    {% for message in client_messages %}
                        
                            <div class="media media-chat">
                                <div class="media-body">
                                    <p>{{message.message_body }}</p>
                                    <p class="meta"><time>{{message.created_at }}</time></p>
                                </div>
                            </div>
                        {% for response in agent_responses %}
                            {% if response.message_id_id == message.id %}
                                <div class="media media-chat media-chat-reverse">
                                    <div class="media-body">
                                        <p>{{response.response_body }}</p>
                                        
                                    </div>
                                    <p class="meta"><time>{{response.created_at }}</time></p>
                                </div>
                                
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                    


             </div>
          </div>
          </div>
          </div>
          </div>
</body>     


{% endblock %}
